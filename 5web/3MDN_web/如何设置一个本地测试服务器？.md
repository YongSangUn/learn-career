<span id ="jump"><font size=5>目录：</font></span>

[toc]

<a href="#bottom" target="_self"><p align="right"><u>前往底部</u></p></a>

# 1. 互联网是如何工作的

<https://developer.mozilla.org/zh-CN/docs/learn/How_the_Internet_works>

## 1.1. 简单到复杂的网络

- 两台设备
使用网线或者无线
![2](https://mdn.mozillademos.org/files/8441/internet-schema-1.png)
  - 多台设备
  使用使用网线连接就会变得异常复杂  
  ![n](https://mdn.mozillademos.org/files/8443/internet-schema-2.png)
  这时候就可以把 路由器 加入这个系统
  ![n](https://mdn.mozillademos.org/files/8445/internet-schema-3.png)

- 如果有成百上千的设备呢
那就把它们的路由器连接起来
![n](https://mdn.mozillademos.org/files/8447/internet-schema-4.png)
  - 把 路由器 和 路由器 都连起来，会有很庞大的规模
  ![n](https://mdn.mozillademos.org/files/8449/internet-schema-5.png)

- 但是实际上所有的网络都连接起来是不可能的，所以需要用 调制解调器（modem），把网络信息变成电话设施可以处理的信息。
![n](https://mdn.mozillademos.org/files/8451/internet-schema-6.png)
  - 然后需要将信息从我们的网络发送到我们想要到达的地方。这时候需要把我们的网络连接到 互联网服务提供商（ISP）。
  ![n](https://mdn.mozillademos.org/files/8453/internet-schema-7.png)

## 1.2. 寻找其他电脑

任何连接在网络中的电脑都有唯一标识—— IP地址（IP代表网络协议），形如 `192.168.1.1` 。  
对于电脑来说很容易，但为了方便记忆，所以给 ip 取了一个更容易阅读的别名：域名。形如 `www.google.com` 。

# 2. 万维网是怎样工作的

## 2.1. 客服端和服务端

![server,client](https://mdn.mozillademos.org/files/8973/Client-server.jpg)

- 客户端
典型的入网设备（接入 wifi 的电脑， 4g 手机等），和设备上可联网的软件（浏览器等）  
- 服务器
存储网页、站点和应用的计算机。客户端请求页面时，数据会从 服务器端 拷贝到 用户浏览器上显示。

## 2.2. 其他部分

server 和 client 并不能完成全部工作；  
假设 Web 是一条路。路的一端是客户端，就像你的家。另一端是服务器，就像你想去超市。  
我们还需要了解：  

- 网络连接
允许你在互联网上发送/接受数据。 同 家 到 商店 街道。
- TCP/IP
 `传输控制协议和因特网互连协议` 是定义数据如何传输的通信协议。同 去超市所使用的交通工具，汽车或者自行车。
- DNS
域名系统服务器 像是一本 网站通讯录。浏览器获取网页之前会查看 域名系统。浏览器需要扎到存放网页的服务器，才能发送 HTTP 请求到正确的地方。同你需要知道商店的位置才能到达。
- HTTP
超文本传输协议 是定义客户端和服务器间交流的语言的协议（protocol ）。同 你下订单所说的话。
- 组成文件
  - 代码
  网页大体由 HTML、CSS、JavaScript 组成，不过还有很多。
  - 资源
  其他组成网页的东西的合集，比如图像、音乐、视频、pdf文件等

## 2.3. 到底发生了什么

浏览器中输入地址时，（同 走向商店的路上时）：  

1. 浏览器在 域名系统服务器 上找出存放网页的实际地址（找出商店的位置）；
2. 浏览器发送 HTTP 请求信息到 server 来拷一份网页到 client (走到商店并下订单)。这个请求，在 server 和 client 之间传输的所有数据 都是通过 互联网 使用 TCP/IP 协议传输的。
3. server 同意 client 的请求后，回返回 “200 OK”信息，表示可以查看此网页，然后开始将 网页的文件 以 数据包 的形式传输到浏览器（商店给你商品，你将商品带回家）。  
4. 浏览器将 数据包 聚集成完整的网页呈现（商品到家）

## 2.4. DNS 解析

真正的网址并不是输入的那么好，方便记忆，而是一串数字，如 `123.123.123.123` 。  

而 IP 地址，并不容易记住，这就是发明 域名系统 的原因，它们是将 你在浏览器上输入的地址 与 实际的IP地址 相匹配的 特殊服务器（如 “mozilla.org”）。  

网页可以通过 IP地址 来访问。可以直接 ping 域名来获得网站的 IP地址。如得到 `baidu.com` 的 IP地址 `39.156.69.79`。

```ps
C:\Users\31216>ping -n 1 baidu.com
正在 Ping baidu.com [39.156.69.79] 具有 32 字节的数据:
来自 39.156.69.79 的回复: 字节=32 时间=26ms TTL=52
39.156.69.79 的 Ping 统计信息:
    数据包: 已发送 = 1，已接收 = 1，丢失 = 0 (0% 丢失)，
往返行程的估计时间(以毫秒为单位):
    最短 = 26ms，最长 = 26ms，平均 = 26ms
```

## 2.5. 数据包解析

用 包 来描述数据从 server 到 client 传输的格式。 

基本上，数据在 Web 上传输时，是以成百上千的 小数据块 的形式传输的。大量不同的用户都可以同时下载同一个网页。
如果网页以单个打的数据块 的形式传输，一次就一个用户下载，这样会非常没有效率。

# 3. 网页、网站、网络服务器和搜索引擎的区别是什么

## 3.1. 网页（webpage）

> 一份能够显示在 网络浏览器 上的 文档。常被成为 "web pages" （网页）或者就叫 "pages"
（页面）。

这种文档是由 **超文本标记语言 HTML** 来编写的，可以插入各种不同类型的资源，例如：

- 样式信息——控制页面的观感
- 脚本——页面交互
- 多媒体——音视频等

网络中所有可用的网页都有一个独一无二的地址可以访问到。

## 3.2. 网站（website）

> 多个网页，以各种方式组合在一起的一个合集。常称为 "web site" （网站）或者简称为 "site" （站点）。

网站是共享 唯一域名 的相互链接的 网页 的集合。网站的每个页面都提供了明确的链接。

当网站只有一个网页时，网站和网页二者容易混淆。这样的站点有时成为 单页站点（single-page site）。

## 3.3. 网络服务器（web server）

> 一个在互联网上托管网站的计算机。

一个网络服务器时一台托管了一个或多个站点的计算机。“托管”意为：所有的网页和所支持的文件，在此台计算机上都可用。网络服务器可以根据用户需求，将任意网站从托管的网站中发送到任意用户的浏览器中。

网站 和 网络服务器 不能混淆。 网络服务器可以托管多个网站，当网站不可用时，实际上是，网络服务器不可用。

## 3.4. 搜索引擎（search engine）

> 帮助寻找其他 网页 的 站点。

搜索引擎是一个特定类型的网站，帮助用户在网络中寻找网页。

- 浏览器 和 搜索引擎 。
  - 浏览器 是一个接受并显示网页的软件
  - 搜索引擎 是一个帮助用户从其他网站中寻找网页的网站

# 4. 什么是网络服务器

“网络服务器（web server）”可以指代 硬件 或者 软件， 或者是它们协同工作的整体。

- 硬件部分
一个网络服务器是存储了网络服务软件 以及 网站的组成文件（HTML 文档、媒体文件、css样式、js文件等）的计算机。接入到互联网，并且支持与互联网上其他的设备进行物理数据的交互。
- 软件部分
网络服务器包括可以控制用户如何访问托管文件的几个部分，至少它要是一台 HTTP 服务器。  
一台HTTP服务器能够解读 URL (网络地址) 和 HTTP (浏览器用来查看网页的协议) 的 软件。
通过服务器上存储的网站的域名，可以访问到这个服务器，并且将他的内容发送给用户的设备。

## 4.1. 请求流程

下图表示，浏览器需要服务器上的托管的一个文件时，会发送一个 HTTP 请求。请求到达正确的网络服务器（硬件）时，HTTP 服务器（软件）收到请求，找到并通过 HTTP 发送文档到浏览器（如果文档不存在，则返回 404 响应）。
![web_server](https://mdn.mozillademos.org/files/8659/web-server.svg)

- 发布一个站点，需要 静态 或者 动态 的服务器。
  - **静态网络服务器（static web server）** ,或者堆栈，由一个计算机（硬件） 或一个HTTP服务器（软件）组成。“静态” 表示托管的文件会 “保持原样” 的传送到用户的浏览器。
  - **动态网络服务器（dynamic web server）** 由静态的网络服务器 加上 额外的软件 组成。 最普遍的就是应用服务器 [application server] 和一个 数据库 [database]。“动态” 表示这个应用服务器会在 HTTP 服务器 把托管文件送到用户的浏览器之前，会对这些托管文件进行更新。

For example：  
在浏览器中生成最终的网页，应用服务器或许会用数据库中的内容来填充一个 HTML 模板。拥有成百上千网页的站点，并不是成百上千的 HTML 文档，而是 少数的 HTML 模板 以及一个巨大的 数据库。 这样的好处可以更快更简单的 维护 以及 分发 内容。

## 深入探索

- 托管文件
一个网络服务器上首先需要存储这个网站上的文件，也就是所有的 HTML 文档 和它们相关的资源（related assets）。

严格来说，可以在自己的计算机上托管这些文件，但专用的服务器上会方便很多，因为它会：

- 一直启动和运行
- 一直与互联网连接
- 一直拥有一样的 IP 地址（不是所有的ISPs（互联网服务提供商）都会给家庭线提供一个固定的 IP 地址）
- 由一个第三方提供者维护




<a href="#jump" target="_self"><p align="right"><u>返回顶部</u></p></a>

<span id="bottom">